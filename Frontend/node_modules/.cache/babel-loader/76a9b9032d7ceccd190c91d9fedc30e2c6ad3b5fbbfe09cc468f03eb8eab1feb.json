{"ast":null,"code":"import _objectSpread from\"/Users/nivporat/Desktop/mepelaozen/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";var initialState={cartItems:localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")):[],cartTotalQuantity:0,cartTotalAmount:0};var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addToCart:function addToCart(state,action){var itemIndex=state.cartItems.findIndex(function(item){return item._id===action.payload._id;});if(itemIndex>=0){state.cartItems[itemIndex].cartQuantity+=1;toast.info(\"increased \".concat(state.cartItems[itemIndex].name,\" cart quantity\"),{position:\"bottom-left\"});}else{var tempProduct=_objectSpread(_objectSpread({},action.payload),{},{cartQuantity:1});state.cartItems.push(tempProduct);toast.success(\"\".concat(action.payload.name,\" add to cart \"),{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},removeFromCart:function removeFromCart(state,action){var nextCartItems=state.cartItems.filter(function(cartItem){return cartItem.id!==action.payload.id;});state.cartItems=nextCartItems;localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));toast.error(\"\".concat(action.payload.name,\" remove from cart\"),{position:\"bottom-left\"});},decreaseCart:function decreaseCart(state,action){var itemIndex=state.cartItems.findIndex(function(cartItem){return cartItem.id===action.payload.id;});if(state.cartItems[itemIndex].cartQuantity>1){state.cartItems[itemIndex].cartQuantity-=1;toast.info(\"Decreased \".concat(action.payload.name,\" cart quantity\"),{position:\"bottom-left\"});}else if(state.cartItems[itemIndex].cartQuantity===1){var nextItems=state.cartItems.filter(function(cartItem){return cartItem.id!==action.payload.id;});state.cartItems=nextItems;toast.error(\"\".concat(action.payload.name,\" remove from cart\"),{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},clearCart:function clearCart(state,action){state.cartItems=[];toast.error(\"Cart clear\",{position:\"bottom-left\"});localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},getTotals:function getTotals(state,action){var _state$cartItems$redu=state.cartItems.reduce(function(cartTotal,cartItem){var price=cartItem.price,cartQuantity=cartItem.cartQuantity;var itemTotal=price*cartQuantity;cartTotal.total+=itemTotal;cartTotal.quantity+=cartQuantity;return cartTotal;},{total:0,quantity:0}),total=_state$cartItems$redu.total,quantity=_state$cartItems$redu.quantity;state.cartTotalQuantity=quantity;state.cartTotalAmount=total;}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,removeFromCart=_cartSlice$actions.removeFromCart,decreaseCart=_cartSlice$actions.decreaseCart,clearCart=_cartSlice$actions.clearCart,getTotals=_cartSlice$actions.getTotals;export{addToCart,removeFromCart,decreaseCart,clearCart,getTotals};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","cartSlice","name","reducers","addToCart","state","action","itemIndex","findIndex","item","_id","payload","cartQuantity","info","concat","position","tempProduct","_objectSpread","push","success","setItem","stringify","removeFromCart","nextCartItems","filter","cartItem","id","error","decreaseCart","nextItems","clearCart","getTotals","_state$cartItems$redu","reduce","cartTotal","price","itemTotal","total","quantity","_cartSlice$actions","actions","reducer"],"sources":["/Users/nivporat/Desktop/mepelaozen/Frontend/src/components/store/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\"\nimport { toast } from \"react-toastify\"\n\n\nconst initialState = {\n    cartItems:localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [],\n    cartTotalQuantity:0,\n    cartTotalAmount:0,\n}\n\n\nconst cartSlice = createSlice({\n    name:\"cart\",\n    initialState,\n    reducers:{\n        addToCart(state,action){\n           const itemIndex =  state.cartItems.findIndex((item) => item._id === action.payload._id);\n            if(itemIndex >= 0){\n                state.cartItems[itemIndex].cartQuantity += 1\n                toast.info(`increased ${state.cartItems[itemIndex].name} cart quantity`,{\n                    position:\"bottom-left\",\n                })\n            }else{\n                const tempProduct ={ ...action.payload, cartQuantity:1}\n                state.cartItems.push(tempProduct);\n                toast.success(`${action.payload.name} add to cart `,{\n                    position:\"bottom-left\",\n                })\n            }\n\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems))\n        },\n        removeFromCart(state,action){\n            const nextCartItems = state.cartItems.filter(\n                (cartItem) => cartItem.id !== action.payload.id\n            )\n            state.cartItems = nextCartItems;\n            localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems))\n            toast.error(`${action.payload.name} remove from cart`,{\n                position:\"bottom-left\",\n            })\n        },\n\n        decreaseCart(state,action){\n            const itemIndex = state.cartItems.findIndex(\n                cartItem => cartItem.id === action.payload.id\n            )\n\n            if(state.cartItems[itemIndex].cartQuantity > 1){\n                state.cartItems[itemIndex].cartQuantity -=1\n\n                toast.info(`Decreased ${action.payload.name} cart quantity`,{\n                    position:\"bottom-left\",\n                });\n            }else if(state.cartItems[itemIndex].cartQuantity === 1){\n                    const nextItems = state.cartItems.filter(\n                        (cartItem)=>cartItem.id !== action.payload.id\n                    );\n                    state.cartItems = nextItems\n\n                    toast.error(`${action.payload.name} remove from cart`,{\n                        position:\"bottom-left\",\n                    });\n            }\n            localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems))\n        },\n\n        clearCart(state,action){\n            state.cartItems = [];\n            toast.error(`Cart clear`,{\n                position:\"bottom-left\",\n            });\n\n            localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems))\n        },\n\n        getTotals(state,action){\n            let {total,quantity} = state.cartItems.reduce((cartTotal,cartItem)=>{\n                const {price,cartQuantity} = cartItem;\n                const itemTotal = price * cartQuantity;\n\n                cartTotal.total += itemTotal\n                cartTotal.quantity += cartQuantity\n\n\n                return cartTotal;\n            },{\n                total:0,\n                quantity:0\n            })\n            state.cartTotalQuantity = quantity;\n            state.cartTotalAmount = total\n        }\n    }\n})\n\n\n\nexport const {addToCart,removeFromCart,decreaseCart , clearCart, getTotals} = cartSlice.actions\n\nexport default cartSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}