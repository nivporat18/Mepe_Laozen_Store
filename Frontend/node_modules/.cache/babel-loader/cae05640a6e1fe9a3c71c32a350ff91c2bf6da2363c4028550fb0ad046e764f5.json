{"ast":null,"code":"import React,{useEffect}from'react';import'./Cart.css';import{useDispatch,useSelector}from'react-redux';import{Link,useNavigate}from'react-router-dom';import{addToCart,clearCart,decreaseCart,getTotals,removeFromCart}from'../store/CartSlice';import PayButton from'../auth/payButton/PayButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(){var _cart$cartItems;var navigate=useNavigate();var cart=useSelector(function(state){return state.cart;});var auth=useSelector(function(state){return state.auth;});var dispatch=useDispatch();useEffect(function(){dispatch(getTotals());},[cart,dispatch]);var handleRemoveFromCart=function handleRemoveFromCart(cartItem){dispatch(removeFromCart(cartItem));};var handleDecreaseCart=function handleDecreaseCart(cartItem){dispatch(decreaseCart(cartItem));};var handleIncreaseQuantity=function handleIncreaseQuantity(cartItem){dispatch(addToCart(cartItem));};var handleClearCart=function handleClearCart(){dispatch(clearCart());};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u05E1\\u05DC \\u05E7\\u05E0\\u05D9\\u05D5\\u05EA\"}),cart.cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"cart-empty\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-black\",children:\"Your Cart is currently empty\"}),/*#__PURE__*/_jsx(\"div\",{className:\"start-shopping\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Start Shopping\"})]})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titles\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:\"\\u05DE\\u05D5\\u05E6\\u05E8\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"price\",children:\"\\u05DE\\u05D7\\u05D9\\u05E8\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"quantity\",children:\"\\u05DB\\u05DE\\u05D5\\u05EA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"total\",children:\"\\u05E1\\u05D4\\u05F4\\u05DB\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:(_cart$cartItems=cart.cartItems)===null||_cart$cartItems===void 0?void 0:_cart$cartItems.map(function(cartItem){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product\",children:[/*#__PURE__*/_jsx(\"img\",{src:cartItem.image.url,alt:cartItem.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:cartItem.name}),/*#__PURE__*/_jsx(\"p\",{children:cartItem.desc}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleRemoveFromCart(cartItem);},children:\"Remove\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-price\",children:[\"\\u20AA\",cartItem.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDecreaseCart(cartItem);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:cartItem.cartQuantity}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleIncreaseQuantity(cartItem);},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-total-price\",children:[\"\\u20AA\",cartItem.price*cartItem.cartQuantity]})]},cartItem._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"clear-cart\",onClick:function onClick(){return handleClearCart();},children:\"\\u05E0\\u05D9\\u05E7\\u05D5\\u05D9 \\u05E1\\u05DC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-checkout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subtotal\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u05E1\\u05D4\\u05F4\\u05DB \\u05D4\\u05D6\\u05DE\\u05E0\\u05D4\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount\",children:[\"\\u20AA\",cart.cartTotalAmount]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u05DE\\u05D9\\u05E1\\u05D9\\u05DD \\u05D5\\u05DE\\u05E9\\u05DC\\u05D5\\u05D7 \\u05DE\\u05D7\\u05D5\\u05E9\\u05D1\\u05D9\\u05DD \\u05D1\\u05E7\\u05D5\\u05E4\\u05D4\"}),auth._id?/*#__PURE__*/_jsx(PayButton,{cartItems:cart.cartItems}):/*#__PURE__*/_jsx(\"button\",{className:\"cart-login\",onClick:function onClick(){navigate(\"/login\");},children:\"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-shopping\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u05DC\\u05D4\\u05DE\\u05E9\\u05DA \\u05D4\\u05E7\\u05E0\\u05D9\\u05D4\"})]})})]})]})]})})]});}export default Cart;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","useNavigate","addToCart","clearCart","decreaseCart","getTotals","removeFromCart","PayButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","_cart$cartItems","navigate","cart","state","auth","dispatch","handleRemoveFromCart","cartItem","handleDecreaseCart","handleIncreaseQuantity","handleClearCart","className","children","cartItems","length","to","xmlns","width","height","fill","viewBox","fillRule","d","map","src","image","url","alt","name","desc","onClick","price","cartQuantity","_id","cartTotalAmount"],"sources":["/Users/nivporat/Desktop/mepelaozen/Frontend/src/components/cart/Cart.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport './Cart.css'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { addToCart, clearCart, decreaseCart, getTotals, removeFromCart } from '../store/CartSlice'\nimport PayButton from '../auth/payButton/PayButton'\n\n\n\nfunction Cart() {\n\n  const navigate = useNavigate()\n\n  const cart = useSelector((state)=>state.cart)\n\n  const auth = useSelector((state)=>state.auth)\n\n\n  \n  const dispatch = useDispatch()\n\n  useEffect(()=>{\n    dispatch(getTotals())\n  },[cart,dispatch])\n\n  const handleRemoveFromCart =(cartItem)=>{\n      dispatch(removeFromCart(cartItem))\n  }\n\n\n  const handleDecreaseCart = (cartItem)=>{\n    dispatch(decreaseCart(cartItem))\n  }\n\n\n  const handleIncreaseQuantity = (cartItem)=>{\n    dispatch(addToCart(cartItem))\n  }\n\n  const handleClearCart = ()=>{\n    dispatch(clearCart())\n  }\n\n  return (\n    <div className='cart-container'>\n      <h2>סל קניות</h2>\n        {cart.cartItems.length === 0 ? (\n          <div className='cart-empty'>\n            <p className='text-black'>Your Cart is currently empty</p>  \n            <div className='start-shopping'>\n              <Link to=\"/\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n  <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\n</svg>\n                <span>Start Shopping</span>  \n               </Link>\n            </div>\n           </div>\n        ):(<>\n        <div >\n\n          <div className='titles'>\n              <h3 className='product-title'>מוצר</h3>\n              <h3 className='price'>מחיר</h3>\n              <h3 className='quantity'>כמות</h3>\n              <h3 className='total'>סה״כ</h3>\n          </div>\n              <div className='cart-items'>\n                {cart.cartItems?.map(cartItem =>\n                  <div className='cart-item' key={cartItem._id}>\n                      <div className='cart-product'>\n                        <img src={cartItem.image.url} alt={cartItem.name}/>\n                        <div>\n                          <h3>{cartItem.name}</h3> \n                          <p>{cartItem.desc}</p>\n                          <button onClick={()=>handleRemoveFromCart(cartItem)}>Remove</button>\n                        </div>\n                      </div>\n                      <div className='cart-product-price'>\n                      ₪{cartItem.price}\n                      </div>\n\n                      <div className='cart-product-quantity'>\n                        <button onClick={()=>handleDecreaseCart(cartItem)}>-</button>\n                        <div className='count'>{cartItem.cartQuantity}</div>\n                        <button onClick={()=>handleIncreaseQuantity(cartItem)}>+</button>\n                      </div>\n                          <div className='cart-product-total-price'>\n                          ₪{cartItem.price * cartItem.cartQuantity}\n                          </div>\n                  </div>\n                  \n                )}\n              </div>\n                <div className='cart-summary'>\n                  <button className='clear-cart' onClick={()=>handleClearCart()}>ניקוי סל</button>\n                  <div className='cart-checkout'>\n                    <div className='subtotal'>\n                    <span>סה״כ הזמנה</span>\n                    <span className='amount'>₪{cart.cartTotalAmount}</span>\n                    </div>\n                    <p>מיסים ומשלוח מחושבים בקופה</p>\n\n                      {auth._id ? <PayButton cartItems = {cart.cartItems}/> : <button className='cart-login' onClick={()=>{navigate(\"/login\")}}>התחבר</button>}\n\n                  <div className='continue-shopping'>\n                <Link to=\"/\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n    <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\n  </svg>\n                  <span>להמשך הקניה</span>  \n                </Link>\n              </div>\n                </div>\n                </div>\n            </div>\n        </>)}\n    </div>\n\n\n  )\n}\n\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}