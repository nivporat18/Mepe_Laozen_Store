{"ast":null,"code":"import axios from'axios';import React from'react';import{url}from\"../../store/API\";import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";function PayButton(_ref){var cartItems=_ref.cartItems;var user=useSelector(function(state){return state.auth;});var handleCheckout=function handleCheckout(){axios.post(\"\".concat(url,\"/stripe/create-checkout-session\"),{cartItems:cartItems,userId:user._id}).then(function(res){if(res.data.url){window.location.href=res.data.url;}}).catch(function(error){return console.log(error.message);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleCheckout();},children:\"\\u05DC\\u05EA\\u05E9\\u05DC\\u05D5\\u05DD\"})});}export default PayButton;","map":{"version":3,"names":["axios","React","url","useSelector","jsx","_jsx","PayButton","_ref","cartItems","user","state","auth","handleCheckout","post","concat","userId","_id","then","res","data","window","location","href","catch","error","console","log","message","children","onClick"],"sources":["/Users/nivporat/Desktop/mepelaozen/Frontend/src/components/auth/payButton/PayButton.js"],"sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport {url} from \"../../store/API\"\nimport { useSelector } from 'react-redux'\n\nfunction PayButton({cartItems}) {\n\n  const user = useSelector((state)=>state.auth)\n\n    const handleCheckout = ()=>{\n         axios.post(`${url}/stripe/create-checkout-session`,{\n          cartItems,\n          userId:user._id\n         }).then((res)=>{\n         if(res.data.url){\n          window.location.href = res.data.url\n         }\n         }).catch(error =>console.log(error.message))\n    }\n\n  return (\n    <div>\n\n        <button onClick={()=>handleCheckout()}>לתשלום</button>\n\n\n    </div>\n  )\n}\n\nexport default PayButton"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,GAAG,KAAO,iBAAiB,CACnC,OAASC,WAAW,KAAQ,aAAa,QAAAC,GAAA,IAAAC,IAAA,yBAEzC,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAc,IAAZ,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAE3B,GAAM,CAAAC,IAAI,CAAGN,WAAW,CAAC,SAACO,KAAK,QAAG,CAAAA,KAAK,CAACC,IAAI,GAAC,CAE3C,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAO,CACtBZ,KAAK,CAACa,IAAI,IAAAC,MAAA,CAAIZ,GAAG,oCAAkC,CAClDM,SAAS,CAATA,SAAS,CACTO,MAAM,CAACN,IAAI,CAACO,GACb,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAG,CACf,GAAGA,GAAG,CAACC,IAAI,CAACjB,GAAG,CAAC,CACfkB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGJ,GAAG,CAACC,IAAI,CAACjB,GAAG,CACpC,CACA,CAAC,CAAC,CAACqB,KAAK,CAAC,SAAAC,KAAK,QAAG,CAAAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC,GAAC,CACjD,CAAC,CAEH,mBACEtB,IAAA,QAAAuB,QAAA,cAEIvB,IAAA,WAAQwB,OAAO,CAAE,SAAAA,QAAA,QAAI,CAAAjB,cAAc,EAAE,EAAC,CAAAgB,QAAA,CAAC,sCAAM,EAAS,EAGpD,CAEV,CAEA,cAAe,CAAAtB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}